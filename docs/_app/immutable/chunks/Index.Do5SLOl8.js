import{s as F,n as B,r as re,d as oe,z as fe,o as ce}from"./scheduler.CQ8LfOo8.js";import{S as H,i as R,e as v,h as w,t as A,c as g,a as x,G as D,k as T,b as U,d as k,o as m,f as S,g as b,E as q,B as j,J as he,s as Y,z as de,I as me,F as _e,u as K,v as W,w as Q,n as Z,l as G,x as $,j as se,q as be,m as pe}from"./index.C7qbAY9A.js";import{i as ue,e as le,r as ve,f as ne,c as ge,l as ke}from"./transform.Dpvu3v84.js";function Ce(n){let e,t="Submitted! ðŸ¥³";return{c(){e=v("div"),e.textContent=t,this.h()},l(s){e=g(s,"DIV",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-1bzcked"&&(e.textContent=t),this.h()},h(){m(e,"class","success svelte-1vxmi7i")},m(s,l){S(s,e,l)},p:B,d(s){s&&k(e)}}}function ye(n){let e,t;return{c(){e=v("div"),t=A(n[4]),this.h()},l(s){e=g(s,"DIV",{class:!0});var l=x(e);t=U(l,n[4]),l.forEach(k),this.h()},h(){m(e,"class","error svelte-1vxmi7i")},m(s,l){S(s,e,l),b(e,t)},p(s,l){l&16&&Y(t,s[4])},d(s){s&&k(e)}}}function Ie(n){let e,t,s="First Name",l,i,c,h,a="Month",f,r,_,p,z="Day",E,u,P,y,I,V,N,J;function L(d,o){if(d[4])return ye;if(d[3])return Ce}let O=L(n),C=O&&O(n);return{c(){e=v("form"),t=v("label"),t.textContent=s,l=w(),i=v("input"),c=w(),h=v("label"),h.textContent=a,f=w(),r=v("input"),_=w(),p=v("label"),p.textContent=z,E=w(),u=v("input"),P=w(),y=v("button"),I=A("Submit"),V=w(),C&&C.c(),this.h()},l(d){e=g(d,"FORM",{class:!0});var o=x(e);t=g(o,"LABEL",{for:!0,"data-svelte-h":!0}),D(t)!=="svelte-qk9l4x"&&(t.textContent=s),l=T(o),i=g(o,"INPUT",{id:!0,type:!0,maxlength:!0}),c=T(o),h=g(o,"LABEL",{for:!0,"data-svelte-h":!0}),D(h)!=="svelte-ne0f0p"&&(h.textContent=a),f=T(o),r=g(o,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0}),_=T(o),p=g(o,"LABEL",{for:!0,"data-svelte-h":!0}),D(p)!=="svelte-1ru42s5"&&(p.textContent=z),E=T(o),u=g(o,"INPUT",{id:!0,type:!0,placeholder:!0,maxlength:!0}),P=T(o),y=g(o,"BUTTON",{type:!0,class:!0});var M=x(y);I=U(M,"Submit"),M.forEach(k),V=T(o),C&&C.l(o),o.forEach(k),this.h()},h(){m(t,"for","first-name"),m(i,"id","first-name"),m(i,"type","text"),i.required=!0,m(i,"maxlength","10"),i.disabled=n[3],m(h,"for","birthday"),m(r,"id","birth-month"),m(r,"type","text"),m(r,"placeholder","MM"),r.required=!0,m(r,"maxlength","2"),r.disabled=n[3],m(p,"for","birthday"),m(u,"id","birth-day"),m(u,"type","text"),m(u,"placeholder","DD"),u.required=!0,m(u,"maxlength","2"),u.disabled=n[3],m(y,"type","submit"),y.disabled=n[3],m(y,"class","svelte-1vxmi7i"),m(e,"class","svelte-1vxmi7i")},m(d,o){S(d,e,o),b(e,t),b(e,l),b(e,i),q(i,n[0]),b(e,c),b(e,h),b(e,f),b(e,r),q(r,n[1]),b(e,_),b(e,p),b(e,E),b(e,u),q(u,n[2]),b(e,P),b(e,y),b(y,I),b(e,V),C&&C.m(e,null),N||(J=[j(i,"input",n[6]),j(r,"input",n[7]),j(u,"input",n[8]),j(e,"submit",he(n[5]))],N=!0)},p(d,[o]){o&8&&(i.disabled=d[3]),o&1&&i.value!==d[0]&&q(i,d[0]),o&8&&(r.disabled=d[3]),o&2&&r.value!==d[1]&&q(r,d[1]),o&8&&(u.disabled=d[3]),o&4&&u.value!==d[2]&&q(u,d[2]),o&8&&(y.disabled=d[3]),O===(O=L(d))&&C?C.p(d,o):(C&&C.d(1),C=O&&O(d),C&&(C.c(),C.m(e,null)))},i:B,o:B,d(d){d&&k(e),C&&C.d(),N=!1,re(J)}}}function we(n,e,t){let s,l,i,c=!1,h;const a=async()=>{t(4,h=void 0);try{await ue({data:{first_name:s.toLowerCase(),birthday:`1990-${l}-${i}`},table:"birthdays"}),t(3,c=!0)}catch(p){console.log(p),t(4,h=p)}};function f(){s=this.value,t(0,s)}function r(){l=this.value,t(1,l)}function _(){i=this.value,t(2,i)}return[s,l,i,c,h,a,f,r,_]}class Te extends H{constructor(e){super(),R(this,e,we,Ie,F,{})}}function ae(n,e,t){const s=n.slice();return s[12]=e[t],s}function ie(n){let e,t=n[5](ne(`.${n[8]}f`)(n[12]))+"",s;return{c(){e=v("span"),s=A(t),this.h()},l(l){e=g(l,"SPAN",{class:!0});var i=x(e);s=U(i,t),i.forEach(k),this.h()},h(){m(e,"class","tick svelte-1gdgomu")},m(l,i){S(l,e,i),b(e,s)},p(l,i){i&289&&t!==(t=l[5](ne(`.${l[8]}f`)(l[12]))+"")&&Y(s,t)},d(l){l&&k(e)}}}function Ee(n){let e,t,s,l,i,c,h=le(n[0]),a=[];for(let f=0;f<h.length;f+=1)a[f]=ie(ae(n,h,f));return{c(){e=v("div"),t=v("div");for(let f=0;f<a.length;f+=1)a[f].c();s=w(),l=v("input"),this.h()},l(f){e=g(f,"DIV",{class:!0});var r=x(e);t=g(r,"DIV",{class:!0});var _=x(t);for(let p=0;p<a.length;p+=1)a[p].l(_);_.forEach(k),s=T(r),l=g(r,"INPUT",{type:!0,"aria-label":!0,min:!0,max:!0,step:!0,class:!0}),r.forEach(k),this.h()},h(){m(t,"class","ticks svelte-1gdgomu"),m(l,"type","range"),m(l,"aria-label",n[6]),m(l,"min",n[2]),m(l,"max",n[3]),m(l,"step",n[4]),l.disabled=n[7],m(l,"class","svelte-1gdgomu"),m(e,"class","range svelte-1gdgomu")},m(f,r){S(f,e,r),b(e,t);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(t,null);b(e,s),b(e,l),q(l,n[1]),i||(c=[j(l,"change",n[10]),j(l,"input",n[10])],i=!0)},p(f,[r]){if(r&289){h=le(f[0]);let _;for(_=0;_<h.length;_+=1){const p=ae(f,h,_);a[_]?a[_].p(p,r):(a[_]=ie(p),a[_].c(),a[_].m(t,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=h.length}r&64&&m(l,"aria-label",f[6]),r&4&&m(l,"min",f[2]),r&8&&m(l,"max",f[3]),r&16&&m(l,"step",f[4]),r&128&&(l.disabled=f[7]),r&2&&q(l,f[1])},i:B,o:B,d(f){f&&k(e),de(a,f),i=!1,re(c)}}}function xe(n,e,t){let s,{min:l=0}=e,{max:i=100}=e,{step:c=1}=e,{showTicks:h=!1}=e,{ticks:a=[]}=e,{formatTick:f=u=>u}=e,{value:r=l}=e,{label:_=""}=e,{disabled:p=!1}=e;const z=u=>Math.floor(u)===u?0:u.toString().split(".")[1].length||0;function E(){r=me(this.value),t(1,r)}return n.$$set=u=>{"min"in u&&t(2,l=u.min),"max"in u&&t(3,i=u.max),"step"in u&&t(4,c=u.step),"showTicks"in u&&t(9,h=u.showTicks),"ticks"in u&&t(0,a=u.ticks),"formatTick"in u&&t(5,f=u.formatTick),"value"in u&&t(1,r=u.value),"label"in u&&t(6,_=u.label),"disabled"in u&&t(7,p=u.disabled)},n.$$.update=()=>{n.$$.dirty&16&&t(8,s=z(c)),n.$$.dirty&541&&t(0,a=a||(h?ve(l,i+c,c):[]))},[a,r,l,i,c,f,_,p,s,h,E]}class Ne extends H{constructor(e){super(),R(this,e,xe,Ee,F,{min:2,max:3,step:4,showTicks:9,ticks:0,formatTick:5,value:1,label:6,disabled:7})}}function Me(n){let e,t,s="Should Matt take the bet?",l,i,c="If we ask 50 people for their birthdays, how likely are we to get a match?",h,a,f,r,_,p,z,E,u,P,y,I,V,N,J,L;function O(d){n[3](d)}let C={min:0,max:100,step:1,ticks:[0,50,100],formatTick:Se,disabled:n[1]};return n[0]!==void 0&&(C.value=n[0]),u=new Ne({props:C}),oe.push(()=>_e(u,"value",O)),{c(){e=v("section"),t=v("h2"),t.textContent=s,l=w(),i=v("h4"),i.textContent=c,h=w(),a=v("h4"),f=A("Your Guess: "),r=v("span"),_=A(n[0]),p=A("%"),z=w(),E=v("div"),K(u.$$.fragment),y=w(),I=v("button"),V=A("Submit"),this.h()},l(d){e=g(d,"SECTION",{class:!0});var o=x(e);t=g(o,"H2",{class:!0,"data-svelte-h":!0}),D(t)!=="svelte-uexdf3"&&(t.textContent=s),l=T(o),i=g(o,"H4",{class:!0,"data-svelte-h":!0}),D(i)!=="svelte-yb6zuk"&&(i.textContent=c),h=T(o),a=g(o,"H4",{class:!0});var M=x(a);f=U(M,"Your Guess: "),r=g(M,"SPAN",{});var X=x(r);_=U(X,n[0]),p=U(X,"%"),X.forEach(k),M.forEach(k),z=T(o),E=g(o,"DIV",{class:!0});var ee=x(E);W(u.$$.fragment,ee),ee.forEach(k),y=T(o),I=g(o,"BUTTON",{class:!0});var te=x(I);V=U(te,"Submit"),te.forEach(k),o.forEach(k),this.h()},h(){m(t,"class","svelte-1xssp4p"),m(i,"class","svelte-1xssp4p"),m(a,"class","svelte-1xssp4p"),m(E,"class","range svelte-1xssp4p"),I.disabled=n[1],m(I,"class","svelte-1xssp4p"),m(e,"class","svelte-1xssp4p")},m(d,o){S(d,e,o),b(e,t),b(e,l),b(e,i),b(e,h),b(e,a),b(a,f),b(a,r),b(r,_),b(r,p),b(e,z),b(e,E),Q(u,E,null),b(e,y),b(e,I),b(I,V),N=!0,J||(L=j(I,"click",n[2]),J=!0)},p(d,[o]){(!N||o&1)&&Y(_,d[0]);const M={};o&2&&(M.disabled=d[1]),!P&&o&1&&(P=!0,M.value=d[0],fe(()=>P=!1)),u.$set(M),(!N||o&2)&&(I.disabled=d[1])},i(d){N||(Z(u.$$.fragment,d),N=!0)},o(d){G(u.$$.fragment,d),N=!1},d(d){d&&k(e),$(u),J=!1,L()}}}const Se=n=>`${n}%`;function ze(n,e,t){let s,l=!1;const i=async()=>{if(!s||s<=0)return;const{error:h}=await ue({data:{guess:s},table:"guesses"});h?console.error("Error inserting row:",h):t(1,l=!0)};function c(h){s=h,t(0,s)}return[s,l,i,c]}class Oe extends H{constructor(e){super(),R(this,e,ze,Me,F,{})}}function qe(n){let e,t="Nothing to see here",s,l,i="Maybe light up people's phone's who are birthday matches?";return{c(){e=v("p"),e.textContent=t,s=w(),l=v("p"),l.textContent=i},l(c){e=g(c,"P",{"data-svelte-h":!0}),D(e)!=="svelte-1lx1x9d"&&(e.textContent=t),s=T(c),l=g(c,"P",{"data-svelte-h":!0}),D(l)!=="svelte-1l4qhqv"&&(l.textContent=i)},m(c,h){S(c,e,h),S(c,s,h),S(c,l,h)},i:B,o:B,d(c){c&&(k(e),k(s),k(l))}}}function De(n){let e,t;return e=new Oe({}),{c(){K(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,l){Q(e,s,l),t=!0},i(s){t||(Z(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){$(e,s)}}}function Pe(n){let e,t;return e=new Te({}),{c(){K(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,l){Q(e,s,l),t=!0},i(s){t||(Z(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){$(e,s)}}}function Ve(n){let e,t,s,l;const i=[Pe,De,qe],c=[];function h(a,f){return a[0]==="birthdays"?0:a[0]==="guesses"?1:a[0]==="simulation"?2:-1}return~(e=h(n))&&(t=c[e]=i[e](n)),{c(){t&&t.c(),s=se()},l(a){t&&t.l(a),s=se()},m(a,f){~e&&c[e].m(a,f),S(a,s,f),l=!0},p(a,[f]){let r=e;e=h(a),e!==r&&(t&&(be(),G(c[r],1,1,()=>{c[r]=null}),pe()),~e?(t=c[e],t||(t=c[e]=i[e](a),t.c()),Z(t,1),t.m(s.parentNode,s)):t=null)},i(a){l||(Z(t),l=!0)},o(a){G(t),l=!1},d(a){a&&k(s),~e&&c[e].d(a)}}}function Ae(n,e,t){const i=ge("https://vhfmlgdqisxickovdgzl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZoZm1sZ2RxaXN4aWNrb3ZkZ3psIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjEzNDMzMjgsImV4cCI6MjAzNjkxOTMyOH0.mV287-z8TjqVs12uIti3iOwnnbGOiPstj7xfPWmi-2A");let c;const h=a=>{a.event==="view"&&t(0,c=a.payload)};return ce(async()=>{i.channel("user").on("broadcast",{event:"view"},r=>h(r)).subscribe();const f=await ke({table:"state"});t(0,c=f[0].view)}),[c]}class Je extends H{constructor(e){super(),R(this,e,Ae,Ve,F,{})}}export{Je as I};
